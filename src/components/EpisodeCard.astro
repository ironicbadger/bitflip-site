---
const { episode } = Astro.props;
const { title, episodeNumber, date, summary, tags } = episode.data;
---

<article class="episode-card">
  <div class="episode-meta">
    <div class="episode-number">#{episodeNumber}</div>
    <div class="episode-date">{date}</div>
  </div>
  <h3 class="episode-title">
    <a href={`/${episodeNumber}`}>{title}</a>
  </h3>
  <p class="episode-summary">{summary}</p>
  {tags && (
    <div class="episode-tags">
      {tags.map((tag) => (
        <span class="tag" key={tag}>{tag}</span>
      ))}
    </div>
  )}
</article>

<style>
  .episode-card {
    padding: 20px 24px;
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.06);
    background: rgba(12, 14, 16, 0.5);
    display: grid;
    gap: 8px;
  }
  .episode-meta {
    display: flex;
    justify-content: space-between;
    color: var(--steel-500);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-size: 0.75rem;
  }
  .episode-title {
    font-family: var(--font-display);
    font-size: 1.4rem;
    margin: 0;
  }
  .episode-title a:hover {
    color: var(--safety-500);
  }
  .episode-summary {
    color: var(--steel-300);
    line-height: 1.5;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  .episode-tags {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-top: 4px;
  }
  .tag {
    border: 1px solid rgba(243, 139, 18, 0.4);
    color: var(--safety-500);
    padding: 3px 10px;
    border-radius: 999px;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }
</style>
